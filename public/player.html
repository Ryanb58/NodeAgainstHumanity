<!doctype html>
<html>
<head>
    <title>Player - Node Against Humanity</title>
    <link rel="StyleSheet" href="style.css" type="text/css" media="screen">
</head>
<body>
    <div id="joinGamePage">
        <form action="">
            Game Code<input id="code" />
            First Name<input id="username" />
            <button>Join Game</button>
        </form>
    </div>
    <div id="handPage">
        <strong>Cards:</strong>
        <ul id="myHand"></ul>
    </div>

<script src="/socket.io/socket.io.js"></script>
<script src="http://code.jquery.com/jquery-1.11.1.js"></script>
<script>
var socket = io();

// User Interactions
$('form').submit(function(){
    var code = $('#code').val();
    var name = $('#username').val();
    console.log(code + " " + name);
    socket.emit('add:playerToGame',code ,name);
    return false;
});

//Link socket actions to functions.
socket.on('list:hand', updateCardsInHand);

//FUnctions
function updateCardsInHand(cards)
{
    //Empty the current cards.
    $('#myHand').empty();

    $.each(cards, function(){
        $('#myHand').append('<li><strong>' + this.text + '</strong></li>');
    })
}

</script>
  </body>
</html>
